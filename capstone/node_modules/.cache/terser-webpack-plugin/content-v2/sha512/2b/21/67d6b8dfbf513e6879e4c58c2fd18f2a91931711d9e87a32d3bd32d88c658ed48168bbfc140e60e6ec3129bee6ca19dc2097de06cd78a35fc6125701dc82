{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{FhbL:function(l,n,u){\"use strict\";u.r(n);var e=u(\"CcnG\"),t=u(\"xdv0\"),o=u(\"Wcq6\"),r=function(){function l(l,n,u){this.route=l,this.afs=n,this.user=u,this.comments=[],this.commentBox=\"\",this.heartType=\"heart-empty\",this.wasHere=\"not-here\"}return l.prototype.ngOnInit=function(){var l=this;this.postID=this.route.snapshot.paramMap.get(\"id\"),this.postReference=this.afs.doc(\"posts/\"+this.postID),this.sub=this.postReference.valueChanges().subscribe(function(n){l.post=n,l.url=n.url,l.userId=l.user.getUID(),l.imageType=n.imageType,l.comments=n.comments||[],l.heartType=n.likes.includes(l.user.getUID())?\"heart\":\"heart-empty\",l.wasHere=n.here.includes(l.user.getUsername())?\"here\":\"not-here\"})},l.prototype.deleteComment=function(l){var n=this,u=this.comments;u=u.filter(function(n){return n.uid!=l}),this.postReference.update({comments:this.comments}).then(function(l){n.comments=u})},l.prototype.submitComment=function(){var l=this,n=this.commentBox;\"\"!=this.commentBox.trim()&&(this.comments.push({uid:(new Date).getTime(),comment:n,userId:this.user.getUID(),userName:this.user.getUsername()}),this.postReference.update({comments:this.comments}).then(function(n){l.commentBox=\"\"}))},l.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},l.prototype.toggleHeart=function(){this.postReference.update(\"heart-empty\"==this.heartType?{likes:o.firestore.FieldValue.arrayUnion(this.user.getUID())}:{likes:o.firestore.FieldValue.arrayRemove(this.user.getUID())})},l.prototype.toggleHere=function(){this.postReference.update(\"not-here\"==this.wasHere?{here:o.firestore.FieldValue.arrayUnion(this.user.getUsername())}:{here:o.firestore.FieldValue.arrayRemove(this.user.getUsername())})},l.prototype.whowasHere=function(){},l}(),i=function(){return function(){}}(),s=u(\"pMnS\"),a=u(\"CjzJ\"),c=u(\"f/hT\"),b=u(\"ra/t\"),p=u(\"ntG5\"),h=u(\"Ip0R\"),m=u(\"Zq1E\"),f=u(\"gIcY\"),d=u(\"CI40\"),g=u(\"fHOL\"),y=u(\"tXrQ\"),k=u(\"ZYCi\"),v=u(\"fvl4\"),x=e.nb({encapsulation:0,styles:[[\".comment-section[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid gray}.author[_ngcontent-%COMP%]{float:right}\"]],data:{}});function I(l){return e.Eb(0,[(l()(),e.pb(0,0,null,null,1,\"app-loading\",[],null,null,null,a.b,a.a)),e.ob(1,114688,null,0,c.a,[],null,null)],function(l,n){l(n,1,0)},null)}function C(l){return e.Eb(0,[(l()(),e.pb(0,0,null,null,1,\"ion-img\",[],null,null,null,b.O,b.o)),e.ob(1,49152,null,0,p.y,[e.h,e.k],{src:[0,\"src\"]},null)],function(l,n){l(n,1,0,e.rb(1,\"\",n.component.post.url,\"\"))},null)}function D(l){return e.Eb(0,[(l()(),e.pb(0,0,null,null,3,\"div\",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,2,\"video\",[[\"controls\",\"\"],[\"height\",\"420\"],[\"width\",\"640\"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,0,\"source\",[],[[8,\"src\",4]],null,null,null,null)),(l()(),e.Db(-1,null,[\" Your browser does not support the video tag. \"]))],null,function(l,n){l(n,2,0,e.rb(1,\"\",n.component.post.url,\"\"))})}function w(l){return e.Eb(0,[(l()(),e.pb(0,0,null,null,1,\"a\",[[\"class\",\"delete-btn\"]],null,[[null,\"click\"]],function(l,n,u){var e=!0;return\"click\"===n&&(e=!1!==l.component.deleteComment(l.parent.context.$implicit.uid)&&e),e},null,null)),(l()(),e.Db(-1,null,[\" Delete \"]))],null,null)}function H(l){return e.Eb(0,[(l()(),e.pb(0,0,null,null,6,\"div\",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,5,\"div\",[[\"class\",\"comment-section\"]],null,null,null,null,null)),(l()(),e.Db(2,null,[\" \",\" \"])),(l()(),e.pb(3,0,null,null,1,\"div\",[[\"class\",\"author\"]],null,null,null,null,null)),(l()(),e.Db(4,null,[\" \",\" \"])),(l()(),e.gb(16777216,null,null,1,null,w)),e.ob(6,16384,null,0,h.i,[e.O,e.L],{ngIf:[0,\"ngIf\"]},null)],function(l,n){l(n,6,0,n.context.$implicit.userId==n.component.userId)},function(l,n){l(n,2,0,n.context.$implicit.comment),l(n,4,0,n.context.$implicit.userName)})}function z(l){return e.Eb(0,[(l()(),e.pb(0,0,null,null,36,\"ion-card\",[],null,null,null,b.F,b.e)),e.ob(1,49152,null,0,p.h,[e.h,e.k],null,null),(l()(),e.gb(16777216,null,0,1,null,C)),e.ob(3,16384,null,0,h.i,[e.O,e.L],{ngIf:[0,\"ngIf\"]},null),(l()(),e.gb(16777216,null,0,1,null,D)),e.ob(5,16384,null,0,h.i,[e.O,e.L],{ngIf:[0,\"ngIf\"]},null),(l()(),e.pb(6,0,null,0,5,\"ion-card-content\",[],null,null,null,b.E,b.f)),e.ob(7,49152,null,0,p.i,[e.h,e.k],null,null),(l()(),e.pb(8,0,null,0,1,\"p\",[],null,null,null,null,null)),(l()(),e.Db(9,null,[\"\",\"\"])),(l()(),e.pb(10,0,null,0,1,\"p\",[],null,null,null,null,null)),(l()(),e.Db(11,null,[\"\",\"\"])),(l()(),e.pb(12,0,null,0,3,\"ion-item\",[],null,[[null,\"click\"]],function(l,n,u){var e=!0;return\"click\"===n&&(e=!1!==l.component.toggleHeart()&&e),e},b.Q,b.q)),e.ob(13,49152,null,0,p.C,[e.h,e.k],null,null),(l()(),e.pb(14,0,null,0,1,\"ion-icon\",[],null,null,null,b.N,b.n)),e.ob(15,49152,null,0,p.x,[e.h,e.k],{name:[0,\"name\"]},null),(l()(),e.pb(16,0,null,0,6,\"ion-textarea\",[[\"placeholder\",\"Please post your comments\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"ionBlur\"],[null,\"ionChange\"]],function(l,n,u){var t=!0,o=l.component;return\"ionBlur\"===n&&(t=!1!==e.zb(l,17)._handleBlurEvent()&&t),\"ionChange\"===n&&(t=!1!==e.zb(l,17)._handleInputEvent(u.target.value)&&t),\"ngModelChange\"===n&&(t=!1!==(o.commentBox=u)&&t),t},b.X,b.x)),e.ob(17,16384,null,0,m.a,[e.k],null,null),e.Ab(1024,null,f.b,function(l){return[l]},[m.a]),e.ob(19,671744,null,0,f.e,[[8,null],[8,null],[8,null],[6,f.b]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),e.Ab(2048,null,f.c,null,[f.e]),e.ob(21,16384,null,0,f.d,[[4,f.c]],null,null),e.ob(22,49152,null,0,p.rb,[e.h,e.k],{placeholder:[0,\"placeholder\"]},null),(l()(),e.pb(23,0,null,0,2,\"ion-button\",[[\"color\",\"primary\"],[\"fill\",\"solid\"],[\"shape\",\"round\"]],null,[[null,\"click\"]],function(l,n,u){var e=!0;return\"click\"===n&&(e=!1!==l.component.submitComment()&&e),e},b.C,b.c)),e.ob(24,49152,null,0,p.f,[e.h,e.k],{color:[0,\"color\"],fill:[1,\"fill\"],shape:[2,\"shape\"]},null),(l()(),e.Db(-1,0,[\"Submit Comment\"])),(l()(),e.pb(26,0,null,0,2,\"div\",[],null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,H)),e.ob(28,278528,null,0,h.h,[e.O,e.L,e.s],{ngForOf:[0,\"ngForOf\"]},null),(l()(),e.pb(29,0,null,0,0,\"br\",[],null,null,null,null,null)),(l()(),e.pb(30,0,null,0,2,\"ion-button\",[[\"color\",\"primary\"],[\"fill\",\"solid\"],[\"shape\",\"round\"]],null,[[null,\"click\"]],function(l,n,u){var e=!0;return\"click\"===n&&(e=!1!==l.component.toggleHere()&&e),e},b.C,b.c)),e.ob(31,49152,null,0,p.f,[e.h,e.k],{color:[0,\"color\"],fill:[1,\"fill\"],shape:[2,\"shape\"]},null),(l()(),e.Db(-1,0,[\"I was here!\"])),(l()(),e.pb(33,0,null,0,3,\"ion-card-content\",[],null,null,null,b.E,b.f)),e.ob(34,49152,null,0,p.i,[e.h,e.k],null,null),(l()(),e.pb(35,0,null,0,1,\"p\",[],null,null,null,null,null)),(l()(),e.Db(36,null,[\" \",\" \"]))],function(l,n){var u=n.component;l(n,3,0,u.imageType),l(n,5,0,!u.imageType),l(n,15,0,u.heartType),l(n,19,0,u.commentBox),l(n,22,0,\"Please post your comments\"),l(n,24,0,\"primary\",\"solid\",\"round\"),l(n,28,0,u.comments),l(n,31,0,\"primary\",\"solid\",\"round\")},function(l,n){l(n,9,0,n.context.ngIf.myDate),l(n,11,0,n.context.ngIf.desc),l(n,16,0,e.zb(n,21).ngClassUntouched,e.zb(n,21).ngClassTouched,e.zb(n,21).ngClassPristine,e.zb(n,21).ngClassDirty,e.zb(n,21).ngClassValid,e.zb(n,21).ngClassInvalid,e.zb(n,21).ngClassPending),l(n,36,0,n.context.ngIf.here)})}function E(l){return e.Eb(0,[(l()(),e.pb(0,0,null,null,11,\"ion-header\",[],null,null,null,b.M,b.m)),e.ob(1,49152,null,0,p.w,[e.h,e.k],null,null),(l()(),e.pb(2,0,null,0,9,\"ion-toolbar\",[[\"color\",\"primary\"]],null,null,null,b.Z,b.z)),e.ob(3,49152,null,0,p.vb,[e.h,e.k],{color:[0,\"color\"]},null),(l()(),e.pb(4,0,null,0,4,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,b.D,b.d)),e.ob(5,49152,null,0,p.g,[],null,null),(l()(),e.pb(6,0,null,0,2,\"ion-back-button\",[[\"defaultHref\",\"/tabs/feed\"]],null,[[null,\"click\"]],function(l,n,u){var t=!0;return\"click\"===n&&(t=!1!==e.zb(l,8).onClick(u)&&t),t},b.B,b.b)),e.ob(7,49152,null,0,p.c,[e.h,e.k],{defaultHref:[0,\"defaultHref\"]},null),e.ob(8,16384,null,0,d.a,[[2,g.a],y.a,e.k],{defaultHref:[0,\"defaultHref\"]},null),(l()(),e.pb(9,0,null,0,2,\"ion-title\",[[\"color\",\"light\"]],null,null,null,b.Y,b.y)),e.ob(10,49152,null,0,p.tb,[e.h,e.k],{color:[0,\"color\"]},null),(l()(),e.Db(-1,0,[\"Event\"])),(l()(),e.pb(12,0,null,null,5,\"ion-content\",[[\"color\",\"dark\"],[\"padding\",\"\"]],null,null,null,b.H,b.h)),e.ob(13,49152,null,0,p.p,[e.h,e.k],{color:[0,\"color\"]},null),(l()(),e.gb(16777216,null,0,1,null,I)),e.ob(15,16384,null,0,h.i,[e.O,e.L],{ngIf:[0,\"ngIf\"]},null),(l()(),e.gb(16777216,null,0,1,null,z)),e.ob(17,16384,null,0,h.i,[e.O,e.L],{ngIf:[0,\"ngIf\"]},null)],function(l,n){var u=n.component;l(n,3,0,\"primary\"),l(n,7,0,\"/tabs/feed\"),l(n,8,0,\"/tabs/feed\"),l(n,10,0,\"light\"),l(n,13,0,\"dark\"),l(n,15,0,!u.post),l(n,17,0,u.post)},null)}function O(l){return e.Eb(0,[(l()(),e.pb(0,0,null,null,1,\"app-post\",[],null,null,null,E,x)),e.ob(1,245760,null,0,r,[k.a,v.a,t.a],null,null)],function(l,n){l(n,1,0)},null)}var U=e.lb(\"app-post\",r,O,{},{},[]),B=u(\"95zI\"),T=u(\"9opb\"),F=u(\"apKv\"),M=u(\"B4/3\"),R=u(\"quoV\");u.d(n,\"PostPageModuleNgFactory\",function(){return L});var L=e.mb(i,[],function(l){return e.wb([e.xb(512,e.j,e.bb,[[8,[s.a,U]],[3,e.j],e.x]),e.xb(4608,h.k,h.j,[e.u,[2,h.q]]),e.xb(4608,f.g,f.g,[]),e.xb(4608,B.a,B.a,[e.z,e.g]),e.xb(4608,T.a,T.a,[B.a,e.j,e.q]),e.xb(4608,F.a,F.a,[B.a,e.j,e.q]),e.xb(1073742336,h.b,h.b,[]),e.xb(1073742336,f.f,f.f,[]),e.xb(1073742336,f.a,f.a,[]),e.xb(1073742336,M.a,M.a,[]),e.xb(1073742336,k.o,k.o,[[2,k.u],[2,k.m]]),e.xb(1073742336,R.a,R.a,[]),e.xb(1073742336,i,i,[]),e.xb(1024,k.k,function(){return[[{path:\"\",component:r}]]},[])])})}}]);","extractedComments":[]}